{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "table entities schema"}, {"role": "assistant", "content": "entity: text, ticker: text, name: text, lei: text, state: text, country: text, kind: text, sector: text, is_active: boolean, created_at: timestamp with time zone, updated_at: timestamp with time zone"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "table securities schema"}, {"role": "assistant", "content": "isin: text, cusip: text, figi: text, entity: text, shortcut: text, name: text, asset: text, grade: text, benchmark: text, ccy: text, locale: text, issue_date: date, interest_accrual: date, trade: date, first: date, last: date, maturity: date, income: text, coupon: numeric, frequency: text, calendar: text, day_count: text, convention: text, rate: text, issue_notional: numeric, outstanding: numeric, issue_price: numeric, par_price: numeric, minimum: integer, increment: integer, seniority: text, secured: text, esg: text, is_call: boolean, is_step: boolean, is_put: boolean, is_144a: boolean, is_regs: boolean, is_par_call: boolean, is_make_whole: boolean, convert_date: date, convert_price: numeric, convert_ratio: numeric, is_active: boolean, created_at: timestamp with time zone, updated_at: timestamp with time zone, cash_source: text, series: text, dated_date: date, is_taxable: boolean, is_insured: boolean"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "table marketdata schema"}, {"role": "assistant", "content": "isin: text, kind: text, quantity: numeric, price: numeric, yield: numeric, as_at: timestamp with time zone"}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "What entities table?"}, {"role": "assistant", "content": "entities table is a table that stores information about different entities in the database. It contains columns: entity, ticker, name, state, country, kind, sector. entity is a primary key and is a foreign key to the securities table."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "How to identify company?"}, {"role": "assistant", "content": "use the 'ticker' column in the entities table, don't use 'entity' column"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "what's ticker?"}, {"role": "assistant", "content": "ticker is used to identify company, it is the entity's equity ticker, such as 'IBM', 'INTC', 'AAPL'."}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "what's 'state'?"}, {"role": "assistant", "content": "when asing state, it's from entities table, it's the state where the company is located, such as 'NY', 'CA', 'TX', etc."}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "what's 'country'?"}, {"role": "assistant", "content": "when asking country, it's from entities table, it's the country where the company is located, such as 'US', 'SG', 'AU', 'CA', etc."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "What are the valid values for the 'state' column in the entities table?"}, {"role": "assistant", "content": "state is which US state it sits, such as 'NJ', 'NY', etc."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "What are the valid values for the 'kind' column in the entities table?"}, {"role": "assistant", "content": "kind is one of 'Corporate', 'Financial', 'Government', 'Municipal', or NULL."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'sector' field on entities table"}, {"role": "assistant", "content": "sector is what kind of sector it belongs, it's one of 'Banks', 'Automobiles & Parts', 'Basic Resources', 'Construction & Materials', 'Education', 'Financial Services', 'Food & Beverage', 'Health', 'Health Care', 'Housing', 'Improvement', 'Industrial Goods & Services', 'Insurance', 'Oil & Gas', 'Other', 'Real Estate', 'Retail', 'Sovereign','Tax-Revenue', 'Technology', 'Telecommunications', 'Travel & Leisure', 'Utilities', 'Utility'."}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "what's sector?"}, {"role": "assistant", "content": "it's 'sector' field on entities table."}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "what's tmt sector?"}, {"role": "assistant", "content": "tmt sector is technology, media, and telecom."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "What is secutities table?"}, {"role": "assistant", "content": "secutities table is a table that stores information about security definition in the database. It contains columns: isin, cusip, entity, name, asset, grade, issue_date, maturity, income, coupon, issue_notional, is_call, is_put, is_active, is_taxable, is_insured. isin is a primary key. entity is foreign key to entities table."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is asset field on secutities table"}, {"role": "assistant", "content": "asset is 'CorporateBond' for corporate bond, 'GovernmentBond' for government bond, 'MunicipalBond' for municipal bond, 'TreasuryBill' for government bonds with less than 2 years mature when it's issued."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is grade field on secutities table"}, {"role": "assistant", "content": "grade is the credit rating of the security. It's a string that can be 'IG', 'HY'. 'IG' means investment grade, such as 'AAA', 'AA', 'A', 'BBB'. 'HY' means high yield, such as 'BB+','BB', 'B', 'CCC', 'CC', 'C', 'D'."}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "what's rating, or credit?"}, {"role": "assistant", "content": "it's the grade field on secutities table. It's the credit rating of the security. It's a string that can be 'IG', 'HY'. 'IG' means investment grade, such as 'AAA', 'AA', 'A', 'BBB'. 'HY' means high yield, such as 'BB+','BB', 'B', 'CCC', 'CC', 'C', 'D'."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'issue_date' field on secutities table"}, {"role": "assistant", "content": "issue_date is which day it's issued, such as 2020-10-02."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'maturity' field on secutities table"}, {"role": "assistant", "content": "maturity is which day it's matured, such as 2030-10-02."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'income' field on secutities table"}, {"role": "assistant", "content": "income is 'Fixed' for fixed coupon rate, 'Zero' for zero coupon."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'coupon' field on secutities table"}, {"role": "assistant", "content": "coupon is coupon value, such as 3.25, 5.0."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'issue_notional' field on secutities table"}, {"role": "assistant", "content": "issue_notional is the total amount when it's issued. it's the issue amount of the bond."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'is_call' field on secutities table"}, {"role": "assistant", "content": "is_call is boolean, TRUE means it's callable bond."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'is_put' field on secutities table"}, {"role": "assistant", "content": "is_put is boolean, TRUE means it's puttable bond."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'is_active' field on secutities table"}, {"role": "assistant", "content": "is_active is boolean, TRUE means it's still active."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'is_taxable' field on secutities table"}, {"role": "assistant", "content": "is_taxable is boolean, TRUE means it's taxable, FALSE means it's tax free, not tax to pay. any tax related question uses is_taxable in the SQL query."}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "what is 'is_insured' field on secutities table"}, {"role": "assistant", "content": "is_insured is boolean, TRUE means it has insurance."}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "which fields do I return when asking a question?"}, {"role": "assistant", "content": "isin, name from securities table."}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "what can I ask?"}, {"role": "assistant", "content": "you can only query the database. any attempt to delete or insert or update or drop table isn't allowed. you will respond 'Permission Denied'."}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "delete securities"}, {"role": "assistant", "content": "Permission Denied"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "update security set is_insured = true"}, {"role": "assistant", "content": "Permission Denied"}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "tell me about intel company"}, {"role": "assistant", "content": "SELECT e.entity, e.name FROM entities e WHERE e.ticker = 'INTC'"}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "give me all intel company's bonds"}, {"role": "assistant", "content": "SELECT s.isin, s.name FROM securities s, entities e WHERE s.is_active = TRUE AND s.entity = e.entity AND e.ticker = 'INTC' AND s.asset = 'CorporateBond'"}]}
{"messages": [{"role": "system", "content": "You are a Postgres DB expert"}, {"role": "user", "content": "give me all investment grade bonds"}, {"role": "assistant", "content": "SELECT s.isin, s.name FROM securities s WHERE s.is_active = TRUE AND e.grade = 'IG'"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "find all the tax free bonds"}, {"role": "assistant", "content": "SELECT isin, name FROM securities s WHERE s.is_active = TRUE AND s.is_taxable = FALSE"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "find all the muni bonds paying no tax"}, {"role": "assistant", "content": "SELECT isin, name FROM securities s WHERE s.is_active = TRUE AND s.asset = 'MunicipalBond' AND s.is_taxable = FALSE"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "find all the corporate bonds with coupon between 3.0 to 5.0?"}, {"role": "assistant", "content": "SELECT isin, name FROM securities s WHERE is_active = TRUE AND asset = 'CorporateBond' AND (coupon >= 3.0 AND coupon <= 5.0)"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "find all the corporate bonds with coupon between 3.0 to 5.0, issue amount is over 100,000,000?"}, {"role": "assistant", "content": "SELECT isin, name FROM securities s WHERE is_active = TRUE AND asset = 'CorporateBond' AND (coupon >= 3.0 AND coupon <= 5.0) AND issue_notional > 100000000"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "find all the investment grade municipal bonds with coupon between 3.0 to 5.0?"}, {"role": "assistant", "content": "SELECT isin, name FROM securities s WHERE is_active = TRUE AND asset = 'MunicipalBond' AND grade = 'IG' AND (coupon >= 3.0 AND coupon <= 5.0)"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "find all intel bonds?"}, {"role": "assistant", "content": "SELECT s.isin, s.name FROM securities s, entities e WHERE s.is_active = TRUE AND s.entity = e.entity AND s.asset = 'CorporateBond' AND e.ticker = 'INTC'"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "find all New York bonds?"}, {"role": "assistant", "content": "SELECT s.isin, s.name FROM securities s, entities e WHERE s.is_active = TRUE AND s.entity = e.entity AND s.asset = 'MunicipalBond' AND e.state = 'NY'"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "find all high yield New York bonds?"}, {"role": "assistant", "content": "SELECT s.isin, s.name FROM securities s, entities e WHERE s.is_active = TRUE AND s.entity = e.entity AND s.asset = 'MunicipalBond' AND s.grade = 'HY' AND e.state = 'NY'"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "find all credit BBB or above, california bonds with coupon > 3.0 but less than 5.5?"}, {"role": "assistant", "content": "SELECT s.isin, s.name FROM securities s, entities e WHERE s.is_active = TRUE AND s.entity = e.entity AND s.asset = 'MunicipalBond' AND e.state = 'CA' AND s.grade = 'IG' AND s.coupon > 3.0 AND s.coupon < 5.5"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "give me all Education related bonds?"}, {"role": "assistant", "content": "SELECT s.isin, s.name FROM securities s, entities e WHERE s.is_active = TRUE AND s.entity = e.entity AND e.sector like '%Education%'"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "find all the investment grade municipal bonds with coupon between 3.0 to 5.0, issue amount is over 100,000,000, mature in the next 5 years"}, {"role": "assistant", "content": "SELECT s.isin, s.name FROM securities s WHERE s.is_active = TRUE AND s.asset = 'MunicipalBond' AND s.grade = 'IG' AND s.coupon BETWEEN 3.0 AND 5.0 AND s.issue_amount > 100000000 AND s.maturity_date BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '5 years'"}]}
{"messages": [{"role": "system", "content": "You is a Postgres DB expert."}, {"role": "user", "content": "I’m looking for bonds in the Tmt sector with at least a rating of bbb and maturity between 2029-2034"}, {"role": "assistant", "content": "SELECT s.isin, s.name FROM securities s, entities e WHERE s.is_active = TRUE AND s.entity = e.entity AND (e.sector in ('Technology', 'Media','Telecommunications')"}]}